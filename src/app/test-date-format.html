<!DOCTYPE html>
<html>
<head>
    <title>Date Format Test</title>
</head>
<body>
    <h1>Date Format Test</h1>
    <div id="results"></div>

    <script>
        // Test function to verify date formatting
        function testDateFormat(dateString) {
            if (!dateString) {
                return 'NÃ£o informado';
            }
            
            try {
                // Handle the specific format: "2025,9,11,3,0" (year,month,day,hour,minute)
                if (dateString.includes(',')) {
                    const parts = dateString.split(',');
                    if (parts.length >= 3) {
                        const year = parts[0];
                        // Use a more compatible approach for padding
                        const month = parts[1].length === 1 ? '0' + parts[1] : parts[1];
                        const day = parts[2].length === 1 ? '0' + parts[2] : parts[2];
                        const result = `${day}/${month}/${year}`;
                        return result;
                    }
                }
                
                // Handle ISO date format (YYYY-MM-DD)
                if (dateString.match(/^\d{4}-\d{2}-\d{2}/)) {
                    const [year, month, day] = dateString.split('T')[0].split('-');
                    const result = `${day}/${month}/${year}`;
                    return result;
                }
                
                // Handle Brazilian date format (DD/MM/YYYY)
                if (dateString.match(/^\d{2}\/\d{2}\/\d{4}/)) {
                    return dateString;
                }
                
                // Handle other common formats
                // Try to parse the date string
                const date = new Date(dateString);
                
                // Check if the date is valid
                if (isNaN(date.getTime())) {
                    // If not a valid date, return the original string
                    return dateString;
                }
                
                // Format as DD/MM/YYYY using a more compatible approach
                const day = date.getDate();
                const month = date.getMonth() + 1;
                const year = date.getFullYear();
                
                const dayStr = day < 10 ? '0' + day : day.toString();
                const monthStr = month < 10 ? '0' + month : month.toString();
                
                const result = `${dayStr}/${monthStr}/${year}`;
                return result;
            } catch (error) {
                // If there's an error parsing, return the original string
                return dateString;
            }
        }

        // Run tests
        const results = [];

        // Test the specific format mentioned
        const testDate1 = '2025,9,11,3,0';
        const result1 = testDateFormat(testDate1);
        results.push(`Test 1 - Input: ${testDate1} Output: ${result1}`);

        // Test standard ISO format
        const testDate2 = '2025-09-11';
        const result2 = testDateFormat(testDate2);
        results.push(`Test 2 - Input: ${testDate2} Output: ${result2}`);

        // Test Brazilian format
        const testDate3 = '11/09/2025';
        const result3 = testDateFormat(testDate3);
        results.push(`Test 3 - Input: ${testDate3} Output: ${result3}`);

        // Test another comma-separated format
        const testDate4 = '2025,12,3,15,30';
        const result4 = testDateFormat(testDate4);
        results.push(`Test 4 - Input: ${testDate4} Output: ${result4}`);

        // Display results in the HTML
        const resultsDiv = document.getElementById('results');
        resultsDiv.innerHTML = '<h2>Test Results:</h2><ul><li>' + results.join('</li><li>') + '</li></ul>';
    </script>
</body>
</html>